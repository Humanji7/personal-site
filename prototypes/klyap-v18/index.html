<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLYAP v18 — Modular</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500&family=Mystery+Quest&display=swap"
        rel="stylesheet">

    <!-- Modular CSS -->
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/effects.css">
    <link rel="stylesheet" href="styles/fragments.css">
    <link rel="stylesheet" href="styles/bubbles.css">
    <link rel="stylesheet" href="styles/filmstrip.css">
</head>

<body>
    <!-- Portfolio (revealed after tear) -->
    <section id="portfolio-section">
        <h1>портфолио</h1>
        <p>добро пожаловать в следующую главу</p>
    </section>

    <!-- KLYAP Container -->
    <div id="klyap-container">
        <!-- Membrane Canvas -->
        <canvas id="membrane-canvas"></canvas>

        <!-- Fragment Stream -->
        <div id="stream"></div>

        <!-- Particle Canvas -->
        <canvas id="particle-canvas"></canvas>

        <!-- Atmospheric Layers -->
        <div id="vignette"></div>
        <div id="scanlines"></div>
        <div id="noise"></div>

        <!-- Layer Flash -->
        <div id="layer-flash"></div>

        <!-- Meta Message -->
        <div id="meta" class="meta-message"></div>

        <!-- Central Text -->
        <div id="text-block" class="text-block">распирает</div>

        <!-- Provocation Bubbles -->
        <div class="bubble-container">
            <div class="provocation-bubble" data-whisper="...как вода">мягко внутри</div>
            <div class="provocation-bubble" data-whisper="...только тебе">не сжимайся</div>
            <div class="provocation-bubble" data-whisper="...пока">ничего не нужно делать</div>
            <div class="provocation-bubble" data-whisper="...может быть">выдохни</div>
            <div class="provocation-bubble" data-whisper="...уже">ты здесь</div>
        </div>

        <!-- Cursor -->
        <div id="cursor" class="cursor-glow"></div>

        <!-- Filmstrip (v18.6) -->
        <div id="filmstrip">
            <div class="filmstrip-content"></div>
        </div>

        <!-- Ghost Text Container (v18.6) -->
        <div id="ghost-text-container"></div>

        <!-- Scratches Overlay (v18.6) -->
        <div id="scratches-overlay"></div>

        <!-- Data Overlays (v18.6) -->
        <div id="data-fragment-counter" class="data-overlay"></div>
        <div id="data-timestamp" class="data-overlay"></div>
        <div id="data-mouse-coords" class="data-overlay"></div>

        <!-- Ghost Cursors (v18.6) -->
        <div class="ghost-cursor"></div>
        <div class="ghost-cursor"></div>
        <div class="ghost-cursor"></div>
    </div>

    <!-- Tear Crack -->
    <div id="tear-crack"></div>

    <!-- Scroll Indicator -->
    <div id="scroll-indicator" class="scroll-indicator">
        <svg viewBox="0 0 24 24">
            <path d="M12 5v14M5 12l7 7 7-7" />
        </svg>
    </div>

    <!-- Debug -->
    <div id="debug"></div>

    <!-- SVG Filters -->
    <svg style="position:absolute;width:0;height:0;">
        <defs>
            <filter id="displacement-filter">
                <feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="2" result="noise" />
                <feDisplacementMap id="displace-map" in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R"
                    yChannelSelector="G" />
            </filter>
        </defs>
    </svg>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="morph-canvas.js"></script>

    <!-- Main Module -->
    <script type="module" src="js/main.js"></script>
</body>

</html>