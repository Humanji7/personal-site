# Prompt: Эмоциональная Память (Emotional Memory)

## Цель (Objective)
Создать систему долгосрочной памяти для Сферы. Теперь она должна не просто мгновенно реагировать на курсор, но и «запоминать», как с ней обращались в течение сессии.

## Контекст (Context)
- Мы уже внедрили **Deep Interaction**, где Сфера пугается резких движений.
- У нас есть 6 фаз: `PEACE → LISTENING → TENSION → BLEEDING → TRAUMA → HEALING`.
- **Философия:** «Она помнит боль». Сферой нельзя «манипулировать» без последствий.

## Задачи (Tasks)

### 1. Реализовать `MemoryManager.js`
- Создать модуль, который аккумулирует «индекс доверия» (`trustIndex`, 0-1).
- **Грубое обращение:** Частые `poke`, резкие сближения (`approachSpeed`), долгое нахождение в `TRAUMA` — снижают индекс доверия.
- **Нежное обращение:** Плавные `stroke`, медленные сближения, длительное пребывание в `PEACE` — повышают доверие.

### 2. Влияние памяти на уровни (Baseline Anxiety)
- Индекс доверия должен влиять на `tensionDecay` (в `Sphere.js`). Чем меньше доверие, тем медленнее Сфера успокаивается.
- При низком доверии порог перехода в `TRAUMA` должен снижаться (она становится «дерганой»).

### 3. Визуализация памяти (Ghost Traces)
- Если доверие низкое, Сфера может оставлять «призрачные следы» (Ghost Traces) — частицы, которые на мгновение замирают в пространстве, где произошел испуг.
- Изменить базовый цвет `PEACE`: при низком доверии он должен быть более холодным/серым, при высоком — более глубоким/насыщенным фиолетовым.

### 4. Верификация
- Проверить, что после серии резких ударов (`poke`) Сфера дольше остается в напряжении, чем в начале сессии.

## Технические требования
- Не использовать внешние БД (всё в памяти сессии).
- Сохранять производительность 60 FPS.
